Todo:
    - STORE operation
    - LOAD operation
    - Timeouts on DStore and controller
        - How to handle timeouts on waiting for client request (dont want to disconect from client too soon)??

General Notes:
    - At Controller initialisation, create a thread that handles rebalancing - have it on a seperate thread basically

Possible errors:
    - Not using the same port for a Dstore throughout it's life - this means that the messages sent to a Dstore will be on a different
    port to the one it initially joined on 
        - this may cause errors with the automated testing
        - can get around this by making the dstore send the initial request on it's server port or by manually passing in the original
        port number of the datastore whenever logging messages (would need to store it in a map also).
            - would also need to create the new socket whenever logging was done.
    - If a Client or DStore cannot connect to the controller when they are created, they still carry on.
        - The process should stop if they can't connect to the controller as there is nothing they can do in this case.

Error Handling:
    - Tokenizing:
        - Request contains extra stuff after tokens
        - Request parameters are not of the correct structure 
            - filenames do not have '.<extension>'
            - provided folders for DStores are not of the correct
    - Controller:
        - Recieved connection is from neither a DStore or Client
    - DStore:
        - Main method - command line parameters are not of the correct form
        - When multiple Dstores join on the same port number
    

Tokens:
    - Store Operation:
        - STORE filename filesize
        - STORE_TO port1 port2 ... portR
        - ACK
        - STORE_ACK
        - STORE_COMPLETE
        - Error Handling:
            - ERROR_NOT_ENOUGH_DSTORES
            - ERROR_FILE_ALREADY_EXISTS

    - Load Operation:
        - LOAD filename
        - LOAD_FROM port filesize
        - LOAD_DATA filename
        - RELOAD filename
        - Error Handling:
            - ERROR_NOT_ENOUGH_DSTORES 
            - ERROR_FILE_DOES_NOT_EXIST
            - ERROR_LOAD
        
    - Remove Operation:
        - REMOVE filename
        - REMOVE_ACK filename
        - REMOVE_COMPLETE
        - Error Handling
            - ERROR_NOT_ENOUGH_DSTORES 
            - ERROR_FILE_DOES_NOT_EXIST
            - ERROR_FILE_DOES_NOT_EXIST filename
    
    - List Operaton:
        - LIST 
        - LIST file_list
        - ERROR_HANDLING:
            - ERROR_NOT_ENOUGH_DSTORES 

    - Storage Rebalance:
        - JOIN port
        - LIST
        - LIST file_list
        - REBALANCE files_to_send files_to_remove
        - REBALANCE_STORE filename filesize
        - ACK
        - REBALANCE_COMPLETE